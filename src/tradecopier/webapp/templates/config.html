{% import "bootstrap/wtf.html" as wtf %}
{% extends "base.html" %}

{% macro term_brand_logo(id=0) %}
{% if id == 1 %}
<img src={{ url_for('static', filename='MT4-logo.png') }} width="25" height="25" class="d-inline-block align-top" alt="mt4">
{% elif id == 2 %}
<img src={{ url_for('static', filename='mt5-logo.png') }} width="25" height="25" class="d-inline-block align-top" alt="mt5">
{% else %}
{{ id }}
{% endif %}
{% endmacro %}

{% block app_content %}
<div class="container-fluid">
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
    <div class="alert alert-info" role="alert">{{ message }}</div>
    {% endfor %}
    {% endif %}
    {% endwith %}
    <div class="row justify-content-md-center">
        <div class="col-md">
            <div class="row">
                <h5> {{ _("Sources") }} </h5>
            </div>
            {#
            <div class="row">
                {{ wtf.quick_form(add_src_term_form,id="src", button_map={'submit_button': 'primary'}) }}
            </div>
            <div class="row">
                <br>
                <br />
            </div>
            #}
            <div class="row">
                {% for source in sources %}
                {{ term_brand_logo(source['brand']) }}
                {{ source['terminal_id'] }} "{{ source['id'] }}"<br />
                {% endfor %}
            </div>
        </div>
        <div class="col-lg">
            <div class="row">
                <div class="col">
                    {{ _("Nodes") }} <span class="badge badge-light">{{ nodes_nb }}</span>
                </div>
                <div class="col">Graph
                    <svg width="400" height="180">
                        <rect x="50" y="20" rx="20" ry="20" width="150" height="150" style="fill:red;stroke:black;stroke-width:5;opacity:0.5" />
                    </svg>
                </div>
            </div>
        </div>
        <div class="col-sm">
            <h5> {{ _("Destinations") }} </h5>
            {{ wtf.quick_form(add_dst_term_form, id="dst", button_map={'submit_button': 'primary'}) }}
            {% for destination in destinations %}
            {{ term_brand_logo(destination['brand']) }}
            {{ destination['terminal_id'] }} "{{ destination['id'] }}"<br />
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
